<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sgm.hsearch.dao.HsDocumentMapper">
  <resultMap id="BaseResultMap" type="com.sgm.hsearch.entity.HsDocument">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ID" jdbcType="DECIMAL" property="id" />
    <result column="TITLE" jdbcType="VARCHAR" property="title" />
    <result column="PATH" jdbcType="VARCHAR" property="path" />
    <result column="VISIT_COUNT" jdbcType="DECIMAL" property="visitCount" />
    <result column="CREATED_ON" jdbcType="DATE" property="createdOn" />
    <result column="CREATED_BY" jdbcType="VARCHAR" property="createdBy" />
    <result column="UPDATED_ON" jdbcType="DATE" property="updatedOn" />
    <result column="UPDATED_BY" jdbcType="VARCHAR" property="updatedBy" />
    <result column="KEYWORDS" jdbcType="VARCHAR" property="keywords" />
    <result column="CLASSFY" jdbcType="VARCHAR" property="classfy" />
    <result column="ENABLE" jdbcType="DECIMAL" property="enable" />
    <result column="ABSTRACTS" jdbcType="VARCHAR" property="abstracts" />
    <result column="CONTENT" jdbcType="CLOB" property="content" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from HS_TT_DOCUMENT
    where ID = #{id,jdbcType=DECIMAL}
  </delete>
  <insert id="insert" parameterType="com.sgm.hsearch.entity.HsDocument">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <selectKey keyProperty="id" order="BEFORE" resultType="java.lang.Long">
      SELECT SQ_TT_DOCUMENT.NEXTVAL FROM DUAL
    </selectKey>
    insert into HS_TT_DOCUMENT (ID, TITLE, PATH, 
      VISIT_COUNT, CREATED_ON, CREATED_BY, 
      UPDATED_ON, UPDATED_BY, KEYWORDS, 
      CLASSFY, ENABLE, ABSTRACTS, 
      CONTENT)
    values (#{id,jdbcType=DECIMAL}, #{title,jdbcType=VARCHAR}, #{path,jdbcType=VARCHAR}, 
      #{visitCount,jdbcType=DECIMAL}, #{createdOn,jdbcType=DATE}, #{createdBy,jdbcType=VARCHAR}, 
      #{updatedOn,jdbcType=DATE}, #{updatedBy,jdbcType=VARCHAR}, #{keywords,jdbcType=VARCHAR}, 
      #{classfy,jdbcType=VARCHAR}, #{enable,jdbcType=DECIMAL}, #{abstracts,jdbcType=VARCHAR}, 
      #{content,jdbcType=CLOB})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.sgm.hsearch.entity.HsDocument">
    update HS_TT_DOCUMENT
    <set>
		<if test="title != null">
			TITLE = #{title,jdbcType=VARCHAR},
		</if>
		<if test="path != null">
			 PATH = #{path,jdbcType=VARCHAR},
		</if>
		<if test="visitCount != null">
		     VISIT_COUNT = #{visitCount,jdbcType=DECIMAL},
		</if>
		<if test="createdOn != null">
		      CREATED_ON = #{createdOn,jdbcType=DATE},
		</if>
		<if test="updatedOn != null">
		      UPDATED_ON = #{updatedOn,jdbcType=DATE},
		</if>
		<if test="updatedBy != null">
		      UPDATED_BY = #{updatedBy,jdbcType=VARCHAR},
		</if>
		<if test="keywords != null">
		      KEYWORDS = #{keywords,jdbcType=VARCHAR},
		</if>
		<if test="classfy != null">
		      CLASSFY = #{classfy,jdbcType=VARCHAR},
		</if>
		<if test="enable != null">
		      ENABLE = #{enable,jdbcType=DECIMAL},
		</if>
		<if test="abstracts != null">
		      ABSTRACTS = #{abstracts,jdbcType=VARCHAR},
		</if>
		<if test="content != null">
		      CONTENT = #{content,jdbcType=CLOB}
		</if>
	</set>
    where ID = #{id,jdbcType=DECIMAL}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select ID, TITLE, PATH, VISIT_COUNT, CREATED_ON, CREATED_BY, UPDATED_ON, UPDATED_BY, 
    KEYWORDS, CLASSFY, ENABLE, ABSTRACTS, CONTENT
    from HS_TT_DOCUMENT
    where ID = #{id,jdbcType=DECIMAL}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select ID, TITLE, PATH, VISIT_COUNT, CREATED_ON, CREATED_BY, UPDATED_ON, UPDATED_BY, 
    KEYWORDS, CLASSFY, ENABLE, ABSTRACTS, CONTENT
    from HS_TT_DOCUMENT 
    where ENABLE = 1
  </select>
  
  <!-- 被访问后访问数自增1 -->
  <update id="addVisitCount" parameterType="java.lang.Long">
  	update HS_TT_DOCUMENT SET VISIT_COUNT = VISIT_COUNT+1 
  	where ID = #{id,jdbcType=DECIMAL}
  </update>
  <update id="disableDocs">
  	update HS_TT_DOCUMENT SET ENABLE = 0
  </update>
  <update id="enableDoc" parameterType="java.lang.Long">
  	update HS_TT_DOCUMENT SET ENABLE = 1 
  	where ID=#{id,jdbcType=DECIMAL}
  </update>
  
   <select id="selectByPath" parameterType="java.lang.String" resultMap="BaseResultMap">
    select *
    from HS_TT_DOCUMENT
    where PATH = #{path,jdbcType=VARCHAR}
 	</select>
 	
 	<select id="selectDisableDocs" resultType="java.lang.String">
 	select TITLE from HS_TT_DOCUMENT
 	where ENABLE = 0
 	</select>
</mapper>